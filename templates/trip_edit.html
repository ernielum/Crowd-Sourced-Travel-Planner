<!-- 
    This page allows editing of a specific user's trip and lists pinned experiences.

    Actions:
            - Edit trip link
            - Delete trip
            - Update trip name
            - Unpin an experience
            - Select Experience to view details

-->

<!doctype html>

<html>

<head>
    <meta charset="utf-8">
    <title>Capstone: Crowd-sourced Travel App</title>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
    <link type="text/css" rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
    <header>
        <h1>Capstone: Crowd-sourced Travel App</h1>
    </header>

    {% extends "trip_template.html" %}

    <main class="main-top-buttons">

        {% block content %}
        <h2>My Trip</h2>

        <form id="update-trip" method="POST" action="/trips/{{trip.id}}">
            <fieldset>
                <input type="text" placeholder="{{trip.name}}" id="update-trip" required="required" />
                <input type="submit" value="Update Name">
            </fieldset>
        </form>

        <table class="experiences-table">
            <tr>
                <th class="th-trip">{{ trip.name }}</th>
            </tr>
            {% for experience in trip.experiences %}
            <tr>
                {% include 'experience_td.html' %}

                <td class="td-unpin">
                    <form class="unpin-form" id="unpin-experience" method="POST" action="/unpin_experience">
                        <input type="hidden" id="tripId" name="tripId" value={{trip.id}} />
                        <input type="hidden" id="experienceId" name="experienceId" value={{experience.id}} />
                        <input class="small-button" type="submit" value="unpin">
                    </form>
                </td>
            </tr>
            {% endfor %}
        </table>
        {% endblock %}

    </main>


</body>

</html>